name: qxmledit # you probably want to 'snapcraft register <name>'
version: '0.9.19' # just for humans, typically '1.2+git' or '1.3.2'
summary: QXmlEdit is a simple XML editor based on Qt libraries. # 79 char long summary
description: |
  QXmlEdit is a simple XML editor based on Qt libraries. Its main features are unusual data visualization modes, nice XML manipulation and presentation and it is multi platform. It can split very big XML files into fragments, and compare XML and XSD files. It was born on Google code (https://code.google.com/p/qxmledit).

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: devmode # use 'strict' once you have the right plugs and slots

icon: images/icon.svg
apps:
  qxmledit:
    command: desktop-launch $SNAP/bin/qxmledit
#    desktop: qxmledit/meta/gui/QXmlEdit.desktop
    plugs:
      - desktop
      - desktop-legacy
      - wayland
      - unity7
      - opengl
      - home
    environment:
      LD_LIBRARY_PATH: $LD_LIBRARY_PATH:$SNAP/opt/qxmledit/
parts:
  qxmledit:
    plugin: qmake
    qt-version: qt5
    options:
      - CONFIG+=release
    source: https://github.com/lbellonda/qxmledit/archive/0.9.10.tar.gz
    build-packages:
      - build-essential
      - qttools5-dev-tools
      - qtdeclarative5-dev
      - libqt5svg5-dev
      - libqt5xmlpatterns5-dev
    stage-packages:
      - libqt5svg5
      - libqt5xmlpatterns5
      - libqt5sql5-sqlite
      - libqt5sql5-mysql
      - libglu1-mesa
      - libqt5opengl5
      - libqt5printsupport5
      - libqt5xml5
    filesets:
      libQXmlEditWidget: [opt/qxmledit/libQXmlEditWidget-*]
    organize:
      opt/qxmledit/QXmlEdit.desktop: meta/gui/QXmlEdit.desktop
      $libQXmlEditWidget: usr/share/libQXmlEditWidget/
      opt/qxmledit/qxmledit: bin/qxmledit
      opt/qxmledit/QXmlEdit.appdata.xml: meta/gui/QXmlEdit.appdata.xml
#      opt/qxmledit/: bin/
    after: [desktop-qt5]
      
